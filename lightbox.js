export function initLightbox(){const e=document.querySelectorAll(".gallery-image"),t=document.createElement("div");t.classList.add("lightbox"),t.innerHTML='\n    <button class="lightbox-close" aria-label="Tutup">&times;</button>\n    <img src="" alt="Preview" />\n  ',document.body.appendChild(t);const o=t.querySelector("img"),n=t.querySelector(".lightbox-close");let s=1,l=!1,c=!1,a,r,i=0,d=0;function m(){s=1,i=0,d=0,o.style.transform="translate(0, 0) scale(1)"}e.forEach(e=>{e.addEventListener("click",()=>{m(),o.src=e.src,t.classList.add("active")})}),n.addEventListener("click",()=>t.classList.remove("active")),t.addEventListener("click",e=>{e.target===t&&t.classList.remove("active")}),t.addEventListener("wheel",e=>{e.preventDefault(),s=e.deltaY<0?Math.min(s+.2,5):Math.max(s-.2,1),1===s?m():o.style.transform=`translate(${i}px, ${d}px) scale(${s})`}),o.addEventListener("mousedown",e=>{s>1&&(l=!0,c=!1,a=e.clientX-i,r=e.clientY-d,o.style.cursor="grabbing",e.preventDefault())}),window.addEventListener("mouseup",()=>{l=!1,o.style.cursor="grab"}),o.addEventListener("mousemove",e=>{if(l){const t=e.clientX-a,n=e.clientY-r;i=t,d=n,c||(Math.abs(t)>5||Math.abs(n)>5)&&(c=!0),o.style.transform=`translate(${i}px, ${d}px) scale(${s})`}}),t.addEventListener("click",e=>{c&&(e.stopPropagation(),c=!1)},!0)}
